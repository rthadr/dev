{
  "$schema": "https://raw.githubusercontent.com/jetify-com/devbox/0.14.0/.schema/devbox.schema.json",
  "packages": [
    "starship@latest",
    "direnv@latest",
    "bat@latest",
    "eza@latest",
    "awscli2@latest",
    "aws-adfs@latest",
    "jq@latest",
    "glow@latest",
    "nodejs@latest",
    "inlyne@latest",
    "rich-cli@latest"
  ],
  "env": {
    "DEVBOX_GLOBAL_PREFIX": "$HOME/.local/share/devbox/global/default/.devbox/nix/profile/default",
    "DEVBOX_GLOBAL_ROOT":   "$HOME/.local/share/devbox/global/current"
  },
  "shell": {
    "init_hook": [
      "source $DEVBOX_GLOBAL_ROOT/fish/config.fish"
    ],
    "scripts": {
      "enable_global": [
        "echo adding devbox global config to ~/.config/fish/config.fish",
        "grep -qF 'devbox global shellenv' ~/.config/fish/config.fish || (echo 'devbox global shellenv --init-hook | source') >> ~/.config/fish/config.fish",
        "tail -n 1 ~/.config/fish/config.fish"
      ],
      "enable_flakes": [
        "echo adding flake support to ~/.config/nix/nix.conf",
        "grep -qF 'experimental-features' ~/.config/nix/nix.conf || (mkdir -p ~/.config/nix && echo 'experimental-features = nix-command flakes' >> ~/.config/nix/nix.conf)",
        "tail -n 1 ~/.config/nix/nix.conf"
      ]
    }
  }
}
